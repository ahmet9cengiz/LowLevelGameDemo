<!DOCTYPE HTML>
<html lang = "en">
<head>
    <title>Demo</title>
    <meta charset = "UTF-8" />
    <style type = "text/css">
        canvas{
            border:solid 2px #6c6a16;
        }
    </style>
    <script src = "constants.js"></script>
    <script src = "Collision.js"></script>
    <script src = "Game.js"></script>
    <script src = "Sprite.js"></script>


    <script>
        function initialize(){
            game = new Game();
            ship = new Ship("./smallBall.png", 50, 50, game.canvas.width, game.canvas.height);
            ball = new Ball("./smallBall.png", 30, 30, game.canvas.width, game.canvas.height);
            game.addSprite(ship);
            game.addSprite(ball);
            game.start();
        }

        function update(){
            game.clear();
            ball.checkKeys();
            ship.checkKeys();
            game.updateSprites();
        }

        function Ship(imageUrl, w, h, cW, cH){
            tShip = new Sprite(imageUrl, w, h, cW, cH);

            //tShip.collisionStyle = "BOX";
            tShip.checkKeys = function(){
                if(keysPressed[K_A]){
                    tShip.x -= 10;
                }
                if(keysPressed[K_D]){
                    tShip.x += 10;
                }
                if(keysPressed[K_W]){
                    tShip.y -= 10;
                }
                if(keysPressed[K_S]){
                    tShip.y += 10;
                }
            };
            return tShip;
        }

        function Ball(imageUrl, w, h, cW, cH){
            tBall = new Sprite(imageUrl, w, h, cW, cH);

            tBall.checkKeys = function(){
                if(keysPressed[K_LEFT]){
                    tBall.x -= 10;
                }
                if(keysPressed[K_RIGHT]){
                    tBall.x += 10;
                }
                if(keysPressed[K_UP]){
                    tBall.y -= 10;
                }
                if(keysPressed[K_DOWN]){
                    tBall.y += 10;
                }
            };
            return tBall;
        }
    </script>
</head>

<body onload = "initialize()">

</body>
</html>