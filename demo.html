<!DOCTYPE HTML>
<html lang = "en">
<head>
    <title>Demo</title>
    <meta charset = "UTF-8" />
    <style type = "text/css">
        canvas{
            border:solid 2px #6c6a16;
        }
    </style>
    <script src = "constants.js"></script>
    <script src = "Collision.js"></script>
    <script src = "Game.js"></script>
    <script src = "Sprite.js"></script>


    <script>
        function initialize(){
            game = new Game();
            ship = new Ship("./pirateShip1.png", 65, 150, game.canvas.width, game.canvas.height);
            ball = new Ball("./smallBall.png", 10, 10, game.canvas.width, game.canvas.height);
            game.addSprite(ship);
            game.addSprite(ball);
            game.start();
        }

        function update(){
            game.clear();
            ball.checkKeys();
            ship.checkKeys();
            game.updateSprites();
        }

        function Ship(imageUrl, w, h, cW, cH){
            tShip = new Sprite(imageUrl, w, h, cW, cH);
            tShip.setPosition(200, 200);
            tShip.checkKeys = function(){
                if(keysPressed[K_UP]){
                    if(this.speed < 6){
                        tShip.addForceVector(this.getMotionAngle(), 0.3);
                    }
                }
                if(keysPressed[K_RIGHT]){
                    if(this.speed > 1.5){
                        tShip.addForceVector(this.getMotionAngle() + 90, 0.1);
                    }
                }
                if(keysPressed[K_LEFT]){
                    if(this.speed > 1.5){
                        tShip.addForceVector(this.getMotionAngle() - 90, 0.1);
                    }
                }
                if(keysPressed[K_DOWN]){
                    if(this.speed > 1){
                        tShip.addForceVector(this.getMotionAngle() - 180, 0.3);
                    }
                }
            };
            return tShip;
        }

        function Ball(imageUrl, w, h, cW, cH){
            tBall = new Sprite(imageUrl, w, h, cW, cH);

            tBall.checkKeys = function(){
                if(keysPressed[K_SPACE]){

                }
            };
            return tBall;
        }
    </script>
</head>

<body onload = "initialize()">

</body>
</html>